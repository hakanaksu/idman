import itertools


def learn_artifacts(artifact_graph, artifacts):
    for u, v in itertools.combinations(artifacts, 2):
        if artifact_graph.has_edge(u, v):
            artifact_graph[u][v]["label"] += 1
        else:
            artifact_graph.add_edge(u, v, label=1)
    return artifact_graph
